/*!
 * StickyTableHeaders 0.1.24 (2021-03-11 11:44)
 * MIT licensed
 * Copyright (C) Jonas Mosbech - https://github.com/jmosbech/StickyTableHeaders
 */
module.exports=function(c,d,e){"use strict";var p="stickyTableHeaders",o=0,t={fixedOffset:0,leftOffset:0,marginTop:0,objDocument:document,objHead:"head",objWindow:d,scrollableArea:d,cacheHeaderHeight:!1,optionalHorizontalScrollingArea:null,optionalStickyHeaderContent:null,optionalStickyHeaderHidden:null,zIndexOffset:0,zIndex:3};function n(e,i){var s=this;s.$el=c(e),s.el=e,s.id=o++,s.$el.bind("destroyed",c.proxy(s.teardown,s)),s.$clonedHeader=null,s.$originalHeader=null,s.cachedHeaderHeight=null,s.isSticky=!1,s.hasBeenSticky=!1,s.leftOffset=null,s.topOffset=null,s.init=function(){s.setOptions(i),s.$el.each(function(){var e=c(this);e.css("padding",0),s.$originalHeader=c("thead:first",this),s.$clonedHeader=s.$originalHeader.clone(),e.trigger("clonedHeader."+p,[s.$clonedHeader]),s.$optionalHorizontalScrollingArea&&(s.$fixedHeadContainer=c("<div></div>").css({position:"fixed",top:0,left:c(this).offset().left,display:"none","z-index":s.options.zIndex+s.options.zIndexOffset}).appendTo("body"),s.$fixedHeadContainerContent=c("<div></div>").css({width:s.$optionalHorizontalScrollingArea.width()+"px"}).appendTo(s.$fixedHeadContainer).append(s.$optionalStickyHeaderContent),s.$optionalStickyHeaderContent.css({position:"relative"}),s.$scrollableOriginalHeader=c(this).clone(),s.$scrollableOriginalHeader.find("tbody").remove(),s.$fixedScrollingbarContainer=c("<div></div>",{}).css({position:"fixed",bottom:0,display:"none",left:c(this).offset().left,"z-index":s.options.zIndex+s.options.zIndexOffset}).appendTo("body"),s.$fixedScrollingbarContainerContent=c("<div></div>").css({"overflow-x":"auto","overflow-y":"hidden",height:19,width:s.$optionalHorizontalScrollingArea.width()+"px"}).appendTo(s.$fixedScrollingbarContainer).append(s.$scrollableOriginalHeader),s.$scrollableOriginalHeader.css({position:"relative"}),s.$optionalStickyHeaderHidden.css({position:"relative","z-index":s.options.zIndex+s.options.zIndexOffset+1})),s.$clonedHeader.addClass("tableFloatingHeader"),s.$clonedHeader.css({display:"none",opacity:0}),s.$originalHeader.addClass("tableFloatingHeaderOriginal"),s.$originalHeader.after(s.$clonedHeader),s.$printStyle=c('<style type="text/css" media="print">.tableFloatingHeader{display:none !important;}.tableFloatingHeaderOriginal{position:static !important;}</style>'),s.$head.append(s.$printStyle)}),s.$clonedHeader.find("input, select").attr("disabled",!0),s.updateWidth(),s.toggleHeaders(),s.bind()},s.destroy=function(){s.$el.unbind("destroyed",s.teardown),s.teardown()},s.teardown=function(){s.isSticky&&s.$originalHeader.css("position","static"),c.removeData(s.el,"plugin_"+p),s.unbind(),s.$clonedHeader.remove(),s.$originalHeader.removeClass("tableFloatingHeaderOriginal"),s.$originalHeader.css("visibility","visible"),s.$printStyle.remove(),s.el=null,s.$el=null},s.bindFixedScrollbar=function(){var e=s.$optionalHorizontalScrollingArea.offset().top+c("thead:first",s.$el).height(),i=s.$optionalHorizontalScrollingArea.offset().top+s.$optionalHorizontalScrollingArea.height(),o=c(d).scrollTop(),t=c(d).scrollTop()+c(d).height();s.$fixedScrollingbarContainer.width()>=s.$el.width()?s.$fixedScrollingbarContainer.css({display:"none"}):o<e&&e<t||e<o&&t<i?s.$fixedScrollingbarContainer.css({display:""}):s.$fixedScrollingbarContainer.css({display:"none"})},s.bind=function(){s.$scrollableArea.on("scroll."+p,s.toggleHeaders),s.$optionalHorizontalScrollingArea&&(s.$optionalHorizontalScrollingArea.on("scroll."+p,s.toggleHeaders),s.$optionalHorizontalScrollingArea.on("rezise."+p,s.toggleHeaders),s.$optionalHorizontalScrollingArea.on("rezise."+p,s.updateWidth),s.$fixedScrollingbarContainerContent.on("scroll."+p,function(){s.$optionalHorizontalScrollingArea.scrollLeft(c(this).scrollLeft()),s.$optionalStickyHeaderContent.css({left:-c(this).scrollLeft()})}),s.$optionalHorizontalScrollingArea.on("scroll."+p,function(){s.$fixedScrollingbarContainerContent.scrollLeft(c(this).scrollLeft()),s.$optionalStickyHeaderContent.css({left:-c(this).scrollLeft()})}),s.$window.on("scroll."+p,function(){s.bindFixedScrollbar()})),s.isWindowScrolling||(s.$window.on("scroll."+p+s.id,s.setPositionValues),s.$window.on("resize."+p+s.id,s.toggleHeaders)),s.$scrollableArea.on("resize."+p,s.toggleHeaders),s.$scrollableArea.on("resize."+p,s.updateWidth)},s.unbind=function(){s.$scrollableArea.off("."+p,s.toggleHeaders),s.$optionalHorizontalScrollingArea&&(s.$optionalHorizontalScrollingArea.off("."+p,s.toggleHeaders),s.$optionalHorizontalScrollingArea.off("."+p,s.updateWidth)),s.isWindowScrolling||(s.$window.off("."+p+s.id,s.setPositionValues),s.$window.off("."+p+s.id,s.toggleHeaders)),s.$scrollableArea.off("."+p,s.updateWidth)},s.debounce=function(o,t){var n=null;return function(){var e=this,i=arguments;clearTimeout(n),n=setTimeout(function(){o.apply(e,i)},t)}},s.toggleHeaders=s.debounce(function(){s.$el&&s.$el.each(function(){var e,i,o,t=c(this),n=s.isWindowScrolling?isNaN(s.options.fixedOffset)?s.options.fixedOffset.outerHeight():s.options.fixedOffset:s.$scrollableArea.offset().top+(isNaN(s.options.fixedOffset)?0:s.options.fixedOffset),l=t.offset(),a=s.$scrollableArea.scrollTop()+n,r=s.$scrollableArea.scrollLeft(),d=s.isWindowScrolling?a>l.top:n>l.top;d&&(i=s.options.cacheHeaderHeight?s.cachedHeaderHeight:s.$clonedHeader.height(),o=(s.isWindowScrolling?a:0)<l.top+t.height()-i-(s.isWindowScrolling?0:n)),d&&o?(e=l.left-r+s.options.leftOffset,s.$originalHeader.css({position:"fixed","margin-top":s.options.marginTop,top:0,left:e,"z-index":s.options.zIndex}),s.leftOffset=e,s.topOffset=n,s.$clonedHeader.css("display",""),s.$optionalHorizontalScrollingArea&&(s.$fixedHeadContainerContent.css({width:s.$optionalHorizontalScrollingArea.width()+"px"}),s.$fixedScrollingbarContainerContent.css({width:s.$optionalHorizontalScrollingArea.width()+"px"}),s.$fixedHeadContainer.css("display",""),s.bindFixedScrollbar()),s.isSticky||(s.isSticky=!0,s.updateWidth(),t.trigger("enabledStickiness."+p)),s.setPositionValues()):s.isSticky&&(s.$originalHeader.css("position","static"),s.$clonedHeader.css("display","none"),s.$optionalHorizontalScrollingArea&&(s.$fixedHeadContainer.css("display","none"),s.bindFixedScrollbar()),s.isSticky=!1,s.resetWidth(c("td,th",s.$clonedHeader),c("td,th",s.$originalHeader)),s.$optionalHorizontalScrollingArea&&(s.resetWidth(c("th,td",s.$optionalStickyHeaderContent),c("td,th",s.$originalHeader)),s.resetWidth(c("th,td",s.$scrollableOriginalHeader),c("td,th",s.$originalHeader))),t.trigger("disabledStickiness."+p))})},0),s.setPositionValues=s.debounce(function(){var e=s.$window.scrollTop(),i=s.$window.scrollLeft();if(!(!s.isSticky||e<0||e+s.$window.height()>s.$document.height()||i<0||i+s.$window.width()>s.$document.width())&&(s.$originalHeader.css({top:s.topOffset-(s.isWindowScrolling?0:e),left:s.leftOffset-(s.isWindowScrolling?0:i)}),s.$optionalHorizontalScrollingArea)){var o=s.$optionalHorizontalScrollingArea.offset().left-i;s.$fixedHeadContainer.css({left:o}),s.$fixedHeadContainerContent.css({left:o}),s.$fixedScrollingbarContainer.css({left:o}),s.$fixedScrollingbarContainerContent.css({left:o})}},0),s.updateWidth=s.debounce(function(){if(s.isSticky){s.$originalHeaderCells||(s.$originalHeaderCells=c("th,td",s.$originalHeader)),s.$clonedHeaderCells||(s.$clonedHeaderCells=c("th,td",s.$clonedHeader));var e=s.getWidth(s.$clonedHeaderCells);s.setWidth(e,s.$clonedHeaderCells,s.$originalHeaderCells),s.$optionalHorizontalScrollingArea&&(s.setWidth(e,s.$clonedHeaderCells,c("th,td",s.$optionalStickyHeaderContent)),s.setWidth(e,s.$clonedHeaderCells,c("th,td",s.$scrollableOriginalHeader))),s.$originalHeader.css("width",s.$clonedHeader.width()),s.options.cacheHeaderHeight&&(s.cachedHeaderHeight=s.$clonedHeader.height())}},0),s.getWidth=function(e){var r=[];return e.each(function(e){var i,o=c(this);if("border-box"===o.css("box-sizing")){var t=o[0].getBoundingClientRect();i=t.width?t.width:t.right-t.left}else{if("collapse"===c("th",s.$originalHeader).css("border-collapse"))if(d.getComputedStyle)i=parseFloat(d.getComputedStyle(this,null).width);else{var n=parseFloat(o.css("padding-left")),l=parseFloat(o.css("padding-right")),a=parseFloat(o.css("border-width"));i=o.outerWidth()-n-l-a}else i=o.width()}r[e]=i}),r},s.setWidth=function(o,e,t){e.each(function(e){var i=o[e];t.eq(e).css({"min-width":i,"max-width":i})})},s.resetWidth=function(e,o){e.each(function(e){var i=c(this);o.eq(e).css({"min-width":i.css("min-width"),"max-width":i.css("max-width")})})},s.setOptions=function(e){s.options=c.extend({},t,e),s.$window=c(s.options.objWindow),s.$head=c(s.options.objHead),s.$document=c(s.options.objDocument),s.$scrollableArea=c(s.options.scrollableArea),s.isWindowScrolling=s.$scrollableArea[0]===s.$window[0],s.options.optionalHorizontalScrollingArea&&s.options.optionalStickyHeaderContent&&(s.$optionalHorizontalScrollingArea=c(s.options.optionalHorizontalScrollingArea),s.$optionalStickyHeaderContent=c(s.options.optionalStickyHeaderContent),s.$optionalStickyHeaderHidden=c(s.options.optionalStickyHeaderHidden))},s.updateOptions=function(e){s.setOptions(e),s.unbind(),s.bind(),s.updateWidth(),s.toggleHeaders()},s.init()}c.fn[p]=function(i){return this.each(function(){var e=c.data(this,"plugin_"+p);e?"string"==typeof i?e[i].apply(e):e.updateOptions(i):"destroy"!==i&&c.data(this,"plugin_"+p,new n(this,i))})}};