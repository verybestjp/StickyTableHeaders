/*!
 * StickyTableHeaders 0.1.24 (2024-05-14 11:59)
 * MIT licensed
 * Copyright (C) Jonas Mosbech - https://github.com/jmosbech/StickyTableHeaders
 */
module.exports=function($,window,undefined){'use strict';var name='stickyTableHeaders',id=0,TDTH_SELECTOR='table:not(.stickyNotResize) th:not(td td, th th, td th, th td), table:not(.stickyNotResize) td:not(td td, th th, td th, th td)',THEAD_SELECTOR='thead:first:not(thead thead)',defaults={fixedOffset:0,leftOffset:0,marginTop:0,objDocument:document,objHead:'head',objWindow:window,scrollableArea:window,cacheHeaderHeight:!1,optionalHorizontalScrollingArea:null,optionalStickyHeaderContent:null,optionalStickyHeaderHidden:null,zIndexOffset:0,zIndex:3};function Plugin(el,options){var base=this;base.$el=$(el);base.el=el;base.id=id++;base.$el.bind('destroyed',$.proxy(base.teardown,base));base.$clonedHeader=null;base.$originalHeader=null;base.cachedHeaderHeight=null;base.isSticky=!1;base.hasBeenSticky=!1;base.leftOffset=null;base.topOffset=null;base.init=function(){base.setOptions(options);base.$el.each(function(){var $this=$(this);$this.css('padding',0);base.$originalHeader=$(THEAD_SELECTOR,this);base.$clonedHeader=base.$originalHeader.clone();base.$clonedHeader.find('[id]').each(function(){var current=$(this);current.removeAttr('id')});$this.trigger('clonedHeader.'+name,[base.$clonedHeader]);if(base.$optionalHorizontalScrollingArea){base.$fixedHeadContainer=$('<div></div>').css({'position':'fixed','top':0,'left':$(this).offset().left,'display':'none','z-index':base.options.zIndex+base.options.zIndexOffset,}).appendTo('body');base.$fixedHeadContainerContent=$('<div></div>').css({'width':base.$optionalHorizontalScrollingArea.width()+'px','overflow':'hidden',}).appendTo(base.$fixedHeadContainer).append(base.$optionalStickyHeaderContent);base.$optionalStickyHeaderContent.css({'position':'relative',});base.$scrollableOriginalHeader=$(this).clone();base.$scrollableOriginalHeader.find('tbody').remove();base.$fixedScrollingbarContainer=$('<div></div>',{}).css({'position':'fixed','bottom':0,'display':'none','left':$(this).offset().left,'z-index':base.options.zIndex+base.options.zIndexOffset,}).appendTo('body');base.$fixedScrollingbarContainerContent=$('<div></div>').addClass('pesdoScroll').css({'overflow-x':'auto','overflow-y':'hidden','height':17,'width':base.$optionalHorizontalScrollingArea.width()+'px',}).appendTo(base.$fixedScrollingbarContainer).append(base.$scrollableOriginalHeader);base.$scrollableOriginalHeader.css({'position':'relative',});if(base.$optionalStickyHeaderHidden.length>0){var backgroundColor='#fff';if(window.getComputedStyle){backgroundColor=window.getComputedStyle(base.$optionalStickyHeaderHidden[0],null).getPropertyValue('background-color');if(backgroundColor==='rgba(0, 0, 0, 0)'||backgroundColor==='transparent'){backgroundColor='#fff'}} base.$optionalStickyHeaderHidden.css({position:'relative','z-index':base.options.zIndex+base.options.zIndexOffset+1,'background-color':backgroundColor,})}} base.$clonedHeader.addClass('tableFloatingHeader');base.$clonedHeader.css({display:'none',opacity:0.0});base.$originalHeader.addClass('tableFloatingHeaderOriginal');base.$originalHeader.after(base.$clonedHeader);base.$printStyle=$('<style type="text/css" media="print">'+'.tableFloatingHeader{display:none !important;}'+'.tableFloatingHeaderOriginal{position:static !important;}'+'</style>');base.$head.append(base.$printStyle)});base.$clonedHeader.find("input, select").attr("disabled",!0);base.updateWidth();base.toggleHeaders();base.bind()};base.destroy=function(){base.$el.unbind('destroyed',base.teardown);base.teardown()};base.teardown=function(){if(base.isSticky){base.$originalHeader.css('position','static')} $.removeData(base.el,'plugin_'+name);base.unbind();base.$clonedHeader.remove();base.$originalHeader.removeClass('tableFloatingHeaderOriginal');base.$originalHeader.attr('style','');base.$originalHeader.css('visibility','visible');base.$printStyle.remove();if(base.$optionalStickyHeaderContent){base.$fixedHeadContainerContent.unwrap();base.$optionalStickyHeaderContent.unwrap()} if(base.$fixedScrollingbarContainer){base.$fixedScrollingbarContainer.remove()} base.el=null;base.$el=null};base.bindFixedScrollbar=function(){if(!base.$optionalHorizontalScrollingArea||!base.$optionalHorizontalScrollingArea.offset()){return} var viewPointTop=base.$optionalHorizontalScrollingArea.offset().top+$(THEAD_SELECTOR,base.$el).height();var viewPointBottom=base.$optionalHorizontalScrollingArea.offset().top+base.$optionalHorizontalScrollingArea.height();var windowTop=$(window).scrollTop();var windowBottom=$(window).scrollTop()+$(window).height();if(base.$el&&Math.floor(base.$fixedScrollingbarContainer.width())>=Math.floor(base.$el.width())){base.$fixedScrollingbarContainer.css({display:'none'});return} var isTableHorizontalScrollVisible=windowBottom>viewPointBottom;if(isTableHorizontalScrollVisible){base.$fixedScrollingbarContainer.css({display:'none'});return} if(windowTop<viewPointTop&&viewPointTop<windowBottom||viewPointTop<windowTop&&windowBottom<viewPointBottom){base.$fixedScrollingbarContainer.css({display:''})}else{base.$fixedScrollingbarContainer.css({display:'none'})}};base.syncFixedScroll=function(){base.$optionalHorizontalScrollingArea.scrollLeft($(this).scrollLeft());base.$optionalStickyHeaderContent.css({'left':-$(this).scrollLeft(),})};base.syncOptionalScroll=function(){base.$fixedScrollingbarContainerContent.scrollLeft($(this).scrollLeft());base.$optionalStickyHeaderContent.css({'left':-$(this).scrollLeft(),})};base.bind=function(){base.$scrollableArea.on('scroll.'+name,base.toggleHeaders);if(base.$optionalHorizontalScrollingArea){base.$optionalHorizontalScrollingArea.on('rezise.'+name,base.toggleHeaders);base.$optionalHorizontalScrollingArea.on('rezise.'+name,base.updateWidth);window.addEventListener('scroll',base.bindFixedScrollbar);window.addEventListener('scroll',base.toggleHeaders);base.$fixedScrollingbarContainerContent.on('scroll.'+name,base.syncFixedScroll);base.$optionalHorizontalScrollingArea.on('scroll.'+name,base.syncOptionalScroll)} if(!base.isWindowScrolling){window.addEventListener('scroll',base.setPositionValues);base.$window.on('resize.'+name+base.id,base.toggleHeaders)} base.$scrollableArea.on('resize.'+name,base.toggleHeaders);base.$scrollableArea.on('resize.'+name,base.updateWidth)};base.unbind=function(){base.$scrollableArea.off('.'+name,base.toggleHeaders);base.$scrollableArea.off('.'+name,base.updateWidth);window.removeEventListener('scroll',base.toggleHeaders);window.removeEventListener('scroll',base.bindFixedScrollbar);if(!base.isWindowScrolling){base.$window.off('.'+name+base.id,base.setPositionValues);window.removeEventListener('scroll',base.setPositionValues)} if(base.$optionalHorizontalScrollingArea){base.$optionalHorizontalScrollingArea.off('.'+name,base.toggleHeaders);base.$optionalHorizontalScrollingArea.off('.'+name,base.updateWidth);base.$fixedScrollingbarContainerContent.off('.'+name,base.syncFixedScrol);base.$optionalHorizontalScrollingArea.on('.'+name,base.syncOptionalScroll)}};base.debounce=function(fn,delay){var timer=null;return function(){var context=this,args=arguments;clearTimeout(timer);timer=setTimeout(function(){fn.apply(context,args)},delay)}};base.toggleHeaders=base.debounce(function(){if(base.$el){base.$el.each(function(){var $this=$(this),newLeft,newTopOffset=base.isWindowScrolling?(isNaN(base.options.fixedOffset)?base.options.fixedOffset.outerHeight():base.options.fixedOffset):base.$scrollableArea.offset().top+(!isNaN(base.options.fixedOffset)?base.options.fixedOffset:0),offset=$this.offset(),scrollTop=base.$scrollableArea.scrollTop()+newTopOffset,scrollLeft=base.$scrollableArea.scrollLeft(),headerHeight,scrolledPastTop=base.isWindowScrolling?scrollTop>offset.top:newTopOffset>offset.top,notScrolledPastBottom;if(scrolledPastTop){headerHeight=base.options.cacheHeaderHeight?base.cachedHeaderHeight:base.$clonedHeader.height();notScrolledPastBottom=(base.isWindowScrolling?scrollTop:0)<(offset.top+$this.height()-headerHeight-(base.isWindowScrolling?0:newTopOffset))} if(base.$optionalHorizontalScrollingArea){base.$fixedHeadContainerContent.css({'width':base.$optionalHorizontalScrollingArea.width()+'px',});base.$fixedScrollingbarContainerContent.css({'width':base.$optionalHorizontalScrollingArea.width()+'px',})} if(scrolledPastTop&&notScrolledPastBottom){newLeft=offset.left-scrollLeft+base.options.leftOffset;base.$originalHeader.css({'position':'fixed','margin-top':base.options.marginTop,'top':0,'left':newLeft,'z-index':base.options.zIndex});base.leftOffset=newLeft;base.topOffset=newTopOffset;base.$clonedHeader.css('display','');if(base.$optionalHorizontalScrollingArea){base.$fixedHeadContainer.css('display','');base.bindFixedScrollbar()} if(!base.isSticky){base.isSticky=!0;base.updateWidth();$this.trigger('enabledStickiness.'+name)} base.setPositionValues()}else if(base.isSticky){base.$originalHeader.css('position','static');base.$clonedHeader.css('display','none');if(base.$optionalHorizontalScrollingArea){base.$fixedHeadContainer.css('display','none');base.bindFixedScrollbar()} base.isSticky=!1;base.resetWidth($(TDTH_SELECTOR,base.$clonedHeader),$(TDTH_SELECTOR,base.$originalHeader));if(base.$optionalHorizontalScrollingArea){base.resetWidth($(TDTH_SELECTOR,base.$optionalStickyHeaderContent),$(TDTH_SELECTOR,base.$originalHeader));base.resetWidth($(TDTH_SELECTOR,base.$scrollableOriginalHeader),$(TDTH_SELECTOR,base.$originalHeader))} $this.trigger('disabledStickiness.'+name)}})}},0);base.setPositionValues=base.debounce(function(){var winScrollTop=base.$window.scrollTop(),winScrollLeft=base.$window.scrollLeft();if(!base.isSticky||winScrollTop<0||winScrollTop+base.$window.height()>base.$document.height()||winScrollLeft<0||winScrollLeft+base.$window.width()>base.$document.width()){return} base.$originalHeader.css({'top':base.topOffset-(base.isWindowScrolling?0:winScrollTop),'left':base.leftOffset-(base.isWindowScrolling?0:winScrollLeft)});if(base.$optionalHorizontalScrollingArea){var baseOffset=base.$optionalHorizontalScrollingArea.offset().left-winScrollLeft;base.$fixedHeadContainer.css({'left':baseOffset,});base.$fixedHeadContainerContent.css({'left':baseOffset,});base.$fixedScrollingbarContainer.css({'left':baseOffset,});base.$fixedScrollingbarContainerContent.css({'left':baseOffset,})}},0);base.updateWidth=base.debounce(function(){if(!base.isSticky){return} if(!base.$originalHeaderCells){base.$originalHeaderCells=$(TDTH_SELECTOR,base.$originalHeader)} if(!base.$clonedHeaderCells){base.$clonedHeaderCells=$(TDTH_SELECTOR,base.$clonedHeader)} var cellWidths=base.getWidth(base.$clonedHeaderCells);base.setWidth(cellWidths,base.$clonedHeaderCells,base.$originalHeaderCells);if(base.$optionalHorizontalScrollingArea){base.setWidth(cellWidths,base.$clonedHeaderCells,$(TDTH_SELECTOR,base.$optionalStickyHeaderContent));base.setWidth(cellWidths,base.$clonedHeaderCells,$(TDTH_SELECTOR,base.$scrollableOriginalHeader))} base.$originalHeader.css('width',base.$clonedHeader.width());if(base.$optionalStickyHeaderContent){base.$optionalStickyHeaderContent.css('width',base.$clonedHeader.width())} if(base.options.cacheHeaderHeight){base.cachedHeaderHeight=base.$clonedHeader.height()}},0);base.getWidth=function($clonedHeaders){var widths=[];$clonedHeaders.each(function(index){var width,$this=$(this);if($this.css('box-sizing')==='border-box'){var boundingClientRect=$this[0].getBoundingClientRect();if(boundingClientRect.width){width=boundingClientRect.width}else{width=boundingClientRect.right-boundingClientRect.left}}else{var $origTh=$('th',base.$originalHeader);if($origTh.css('border-collapse')==='collapse'){if(window.getComputedStyle){width=parseFloat(window.getComputedStyle(this,null).width)}else{var leftPadding=parseFloat($this.css('padding-left'));var rightPadding=parseFloat($this.css('padding-right'));var border=parseFloat($this.css('border-width'));width=$this.outerWidth()-leftPadding-rightPadding-border}}else{width=$this.width()}} widths[index]=width});return widths};base.setWidth=function(widths,$clonedHeaders,$origHeaders){$clonedHeaders.each(function(index){var width=widths[index];$origHeaders.eq(index).css({'min-width':width,'max-width':width})})};base.resetWidth=function($clonedHeaders,$origHeaders){$clonedHeaders.each(function(index){var $this=$(this);$origHeaders.eq(index).css({'min-width':$this.css('min-width'),'max-width':$this.css('max-width')})})};base.setOptions=function(options){base.options=$.extend({},defaults,options);base.$window=$(base.options.objWindow);base.$head=$(base.options.objHead);base.$document=$(base.options.objDocument);base.$scrollableArea=$(base.options.scrollableArea);base.isWindowScrolling=base.$scrollableArea[0]===base.$window[0];if(base.options.optionalHorizontalScrollingArea&&base.options.optionalStickyHeaderContent){base.$optionalHorizontalScrollingArea=$(base.options.optionalHorizontalScrollingArea);base.$optionalStickyHeaderContent=$(base.options.optionalStickyHeaderContent);if(base.options.optionalStickyHeaderHidden){base.$optionalStickyHeaderHidden=$(base.options.optionalStickyHeaderHidden)}}};base.updateOptions=function(options){base.setOptions(options);base.unbind();base.bind();base.updateWidth();base.toggleHeaders()};base.init()} $.fn[name]=function(options){return this.each(function(){var instance=$.data(this,'plugin_'+name);if(instance){if(typeof options==='string'){instance[options].apply(instance)}else{instance.updateOptions(options)}}else if(options!=='destroy'){$.data(this,'plugin_'+name,new Plugin(this,options))}})}}